<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="agenda.css">
    <title>Agendamento - GHG Barbearia</title>
  </head>
  <body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">
              <img src="/img/logo.png" alt="logo" height="40" />
            </a>
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="./index.html">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./sobreNos.html">Hist칩ria</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./agenda.html">Agenda</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </header>
    <main class="container" role="main">
      <h1 class="main-title">Agendamento r치pido</h1>

      <!-- Barbeiros -->
      <section class="section barbeiros" aria-label="Escolha do barbeiro">
        <h2>Quem vai te atender?</h2>
        <div class="grid" role="list">
          <button
            class="barbeiro-btn"
            aria-label="Selecionar barbeiro Gabriel"
            role="listitem"
            type="button"
          >
            <img src="gabriel.jpg" alt="Barbeiro Gabriel sorrindo" />
            <span>Gabriel</span>
          </button>
          <button
            class="barbeiro-btn"
            aria-label="Selecionar barbeiro Gustavo"
            role="listitem"
            type="button"
          >
            <img src="gustavo.jpg" alt="Barbeiro Gustavo sorrindo" />
            <span>Gustavo</span>
          </button>
          <button
            class="barbeiro-btn"
            aria-label="Selecionar barbeiro Henry"
            role="listitem"
            type="button"
          >
            <img src="henry.jpg" alt="Barbeiro Henry sorrindo" />
            <span>Henry</span>
          </button>
        </div>
      </section>

      <!-- Data -->
      <section class="section" aria-label="Escolha da data">
        <h2>Escolha uma data dispon칤vel</h2>
        <input
          type="date"
          id="dataSelecionada"
          aria-label="Campo para escolher a data do agendamento"
          min=""
        />
      </section>

      <!-- Hor치rios -->
      <section class="section" aria-label="Escolha do hor치rio">
        <h2>Qual hor치rio voc칡 prefere?</h2>
        <div class="grid horarios" role="list">
          <button class="btn-horario" type="button" role="listitem">09:00</button>
          <button class="btn-horario" type="button" role="listitem">10:00</button>
          <button class="btn-horario" type="button" role="listitem">11:00</button>
          <button class="btn-horario" type="button" role="listitem">13:00</button>
          <button class="btn-horario" type="button" role="listitem">14:00</button>
          <button class="btn-horario" type="button" role="listitem">15:00</button>
        </div>
      </section>

      <!-- Servi칞os -->
      <section class="section" aria-label="Escolha do servi칞o">
        <h2>Qual servi칞o deseja?</h2>
        <div class="grid servicos" role="list">
          <button class="servico-btn" type="button" role="listitem">Corte - R$30</button>
          <button class="servico-btn" type="button" role="listitem">Barba - R$20</button>
          <button class="servico-btn" type="button" role="listitem">Corte + Barba - R$45</button>
        </div>
      </section>

      <!-- Resumo -->
      <section class="section resumo" aria-live="polite" aria-label="Resumo do agendamento">
        <h2>Resumo do seu agendamento</h2>
        <ul class="resumo-list">
          <li><strong>Barbeiro:</strong> <span id="resumoBarbeiro">-</span></li>
          <li><strong>Data:</strong> <span id="resumoData">-</span></li>
          <li><strong>Hor치rio:</strong> <span id="resumoHorario">-</span></li>
          <li><strong>Servi칞o:</strong> <span id="resumoServico">-</span></li>
          <li><strong>Total:</strong> R$<span id="resumoPreco">0</span></li>
        </ul>
        <button class="confirmar-btn" type="button" aria-label="Confirmar agendamento">
          Confirmar Agendamento
        </button>
      </section>
    </main>

    <script>
      // Defini칞칚o de vari치veis
      let barbeiroSelecionado = null;
      let horarioSelecionado = null;
      let servicoSelecionado = null;
      let precoSelecionado = 0;

      // Elementos DOM
      const resumoBarbeiro = document.getElementById("resumoBarbeiro");
      const resumoData = document.getElementById("resumoData");
      const resumoHorario = document.getElementById("resumoHorario");
      const resumoServico = document.getElementById("resumoServico");
      const resumoPreco = document.getElementById("resumoPreco");
      const dataInput = document.getElementById("dataSelecionada");
      const confirmarBtn = document.querySelector(".confirmar-btn");

      // Define data m칤nima (hoje) para o input date
      const hoje = new Date().toISOString().split("T")[0];
      dataInput.setAttribute("min", hoje);

      // Atualiza resumo no DOM
      function atualizarResumo() {
        resumoBarbeiro.textContent = barbeiroSelecionado || "-";
        resumoData.textContent = dataInput.value || "-";
        resumoHorario.textContent = horarioSelecionado || "-";
        resumoServico.textContent = servicoSelecionado || "-";
        resumoPreco.textContent = precoSelecionado || "0";
      }

      // Fun칞칚o para limpar sele칞칚o (retira classe ativo)
      function limparSelecao(seletor) {
        document.querySelectorAll(seletor).forEach((el) => {
          el.classList.remove("ativo");
        });
      }

      // Eventos para selecionar barbeiro
      document.querySelectorAll(".barbeiro-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          limparSelecao(".barbeiro-btn");
          btn.classList.add("ativo");
          barbeiroSelecionado = btn.querySelector("span").textContent.trim();
          atualizarResumo();
        });
      });

      // Eventos para selecionar hor치rio
      document.querySelectorAll(".btn-horario").forEach((btn) => {
        btn.addEventListener("click", () => {
          limparSelecao(".btn-horario");
          btn.classList.add("ativo");
          horarioSelecionado = btn.textContent.trim();
          atualizarResumo();
        });
      });

      // Eventos para selecionar servi칞o e pre칞o
      const precosServicos = {
        "Corte": 30,
        "Barba": 20,
        "Corte + Barba": 45,
      };

      document.querySelectorAll(".servico-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          limparSelecao(".servico-btn");
          btn.classList.add("ativo");
          servicoSelecionado = btn.textContent.split(" - ")[0].trim();
          precoSelecionado = precosServicos[servicoSelecionado] || 0;
          atualizarResumo();
        });
      });

      // Evento para atualizar data no resumo
      dataInput.addEventListener("change", () => {
        atualizarResumo();
      });

      // Evento para confirmar agendamento
      confirmarBtn.addEventListener("click", () => {
        if (
          barbeiroSelecionado &&
          dataInput.value &&
          horarioSelecionado &&
          servicoSelecionado
        ) {
          alert(
            `Agendamento confirmado!\n\nBarbeiro: ${barbeiroSelecionado}\nData: ${dataInput.value}\nHor치rio: ${horarioSelecionado}\nServi칞o: ${servicoSelecionado} - R$${precoSelecionado}\n\nNos vemos em breve 游땙`
          );
        } else {
          alert(
            "Por favor, selecione barbeiro, data, hor치rio e servi칞o antes de confirmar."
          );
        }
      });

      // Inicializa resumo
      atualizarResumo();
    </script>
  </body>
</html>
